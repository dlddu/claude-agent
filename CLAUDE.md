# CLAUDE.md - 애자일 워크플로우 가이드

이 프로젝트는 애자일 방법론, 명세 주도 개발(SDD), 테스트 주도 개발(TDD)을 통합한 개발 방법론을 따릅니다.

## 개발 워크플로우

### 1. 명세 작성 (Spec Writing)
새로운 기능 개발 시 다음 순서로 진행합니다:

1. **요구사항 분석**: 사용자 요구사항을 수집하고 분석
2. **명세서 작성**: `docs/specs/SPEC-{번호}-{기능명}.md` 생성
3. **사용자 스토리 작성**: `docs/user-stories/US-{번호}-{기능명}.md` 생성
   - 사용자는 항상 **최종 사용자** 관점
   - 인수 테스트(Acceptance Test) 포함 필수
4. **추적성 매트릭스 업데이트**: `docs/traceability-matrix.md`

### 2. 프로젝트 부트스트랩 (신규 프로젝트)
새 프로젝트 시작 시:

1. **아키텍처 설계**: 명세 기반으로 `docs/architecture/ARCHITECTURE.md` 작성
2. **CI 파이프라인 설정**: `.github/workflows/ci.yml` 생성
3. **Hello World 구현**: 기본 애플리케이션 + Health Check
4. **CI 검증**: GitHub Actions 통과 확인

### 3. 작업 계획 (Task Planning)
구현 전 작업 계획 수립:

1. **진행 상황 파악**: 인수 테스트 통과 여부 확인
2. **남은 작업 식별**: 미완료 인수 테스트 목록화
3. **작업 분할**: 적절한 크기로 분할 (테스트 작성 시간 포함)
4. **작업 계획서 작성**: `docs/tasks/TASK-{번호}-{작업명}.md`

### 4. 구현 (Implementation)
TDD 방식으로 구현:

1. **RED**: 테스트 먼저 작성 (실패 확인)
2. **GREEN**: 최소한의 구현으로 테스트 통과
3. **REFACTOR**: 코드 개선 (테스트 유지)
4. **CI 검증**: GitHub Actions 통과 확인
5. **반복**: 모든 테스트 통과까지 반복

## 핵심 원칙

### 테스트 우선
- 구현과 테스트는 항상 동시에 작성
- 테스트 실패 시 테스트가 아닌 구현을 수정
- 테스트 통과 여부는 GitHub Actions 기준

### 인수 테스트 기반 판단
- 작업 완료 = 인수 테스트 통과
- 작업 분할 시 인수 테스트 단위로 분할
- 진행 상황은 인수 테스트 통과율로 측정

### 양방향 추적성
모든 산출물은 추적성 매트릭스로 연결:
```
요구사항 ↔ 명세서 ↔ 사용자 스토리 ↔ 인수 테스트 ↔ 작업 ↔ 코드
```

## 문서 구조

```
docs/
├── specs/                    # 기능 명세서
│   └── SPEC-{번호}-{기능명}.md
├── user-stories/             # 사용자 스토리 + 인수 테스트
│   └── US-{번호}-{기능명}.md
├── architecture/             # 아키텍처 문서
│   └── ARCHITECTURE.md
├── tasks/                    # 작업 계획서
│   └── TASK-{번호}-{작업명}.md
└── traceability-matrix.md    # 추적성 매트릭스
```

## 워크플로우 트리거 문구

| 스킬 | 트리거 예시 |
|-----|-----------|
| 명세 작성 | "명세 작성해줘", "요구사항 정리해줘" |
| 프로젝트 부트스트랩 | "프로젝트 초기화해줘", "CI 설정해줘" |
| 작업 계획 | "다음 작업 뭐야", "할 일 정리해줘" |
| 구현 | "구현 시작해줘", "개발 진행해줘" |

## CI/CD

- **CI 도구**: GitHub Actions
- **테스트 자동화**: 모든 push/PR에서 실행
- **검증 항목**: 빌드, 린트, 단위 테스트, 통합 테스트

## 커밋 메시지 규칙

```
{type}: {설명}

- {변경 사항}

Closes: TASK-{번호}
Related: US-{번호}, AT-{번호}
```

Type: feat, fix, docs, test, refactor, chore

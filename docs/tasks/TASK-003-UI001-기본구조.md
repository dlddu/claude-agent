# TASK-003: UI-001 기본 구조 및 API 클라이언트

## 메타데이터
- **작성일**: 2026-01-03
- **예상 크기**: S (1-2시간)
- **상태**: 계획됨
- **관련 스토리**: US (Phase 2 사용자 스토리 - 추후 정의)
- **관련 인수 테스트**: UI-001 REQ-1, REQ-2, REQ-3 공통

## 작업 목표

이 작업을 완료하면 UI-001 구현을 위한 기반이 마련됩니다:
- [ ] 실행 관리 페이지 라우트 설정 (/executions, /executions/new, /executions/[id])
- [ ] API 클라이언트 (executionApi.ts) 생성
- [ ] 공통 훅 (useExecutions, useExecution, useCreateExecution, useCancelExecution) 구조 생성
- [ ] 타입 정의 및 공통 유틸리티 설정

## 구현 범위

### 구현할 기능
1. **라우트 설정**
   - `src/app/executions/page.tsx` - 실행 목록 페이지 (스켈레톤)
   - `src/app/executions/new/page.tsx` - 실행 생성 페이지 (스켈레톤)
   - `src/app/executions/[id]/page.tsx` - 실행 상세 페이지 (스켈레톤)

2. **API 클라이언트**
   - `src/services/executionApi.ts` - REST API 클라이언트
   - API-001: POST /api/v1/executions
   - API-002: GET /api/v1/executions/:id
   - API-003: GET /api/v1/executions
   - API-004: POST /api/v1/executions/:id/cancel

3. **React Query 훅**
   - `src/hooks/executions/useExecutions.ts` - 목록 조회
   - `src/hooks/executions/useExecution.ts` - 단일 조회
   - `src/hooks/executions/useCreateExecution.ts` - 생성
   - `src/hooks/executions/useCancelExecution.ts` - 취소

4. **네비게이션 업데이트**
   - 사이드바에 "실행" 메뉴 추가

### 구현 제외 항목
- 실제 UI 컴포넌트 구현 (TASK-004, 005, 006에서 구현)
- 실시간 업데이트 (TASK-007에서 구현)
- 테스트 작성 (각 후속 TASK에서 작성)

## 기술적 접근 방법

1. **API 클라이언트 구현**
   - 기존 `@/lib/api` 인스턴스 활용
   - `@claude-agent/shared` 타입 활용
   - 에러 핸들링 포함

2. **React Query 설정**
   - TanStack Query (React Query) 사용
   - 캐시 전략 설정
   - 낙관적 업데이트 준비

3. **라우트 구조**
   ```
   /executions          → ExecutionListPage
   /executions/new      → ExecutionCreatePage
   /executions/[id]     → ExecutionDetailPage
   ```

## 테스트 전략

### 단위 테스트
- API 클라이언트 함수 테스트 (Mock Service Worker 활용)
- React Query 훅 테스트

### 통합 테스트
- 라우트 접근성 테스트

### 인수 테스트 실행 방법
```bash
# 프론트엔드 테스트 실행
pnpm --filter frontend test

# E2E 테스트 실행
pnpm --filter e2e test
```

## 완료 조건

이 작업은 다음 조건을 모두 만족할 때 완료됩니다:
1. [ ] 모든 라우트가 접근 가능 (404 없음)
2. [ ] API 클라이언트가 백엔드와 통신 가능
3. [ ] React Query 훅이 정상 동작
4. [ ] 사이드바에 실행 메뉴가 표시됨
5. [ ] TypeScript 컴파일 성공
6. [ ] GitHub Actions CI 통과

## 의존성

### 선행 작업
- FEAT-002: Agent Execution Management (✅ 완료)
- API-001~004: Execution APIs (✅ 완료)
- UI-004: Common Layout (✅ 완료)

### 후행 작업
- TASK-004: 실행 생성 폼 구현
- TASK-005: 실행 목록 페이지 구현
- TASK-006: 실행 상세 페이지 구현

## 추적성
- **명세서**: UI-001
- **관련 API**: API-001, API-002, API-003, API-004
- **관련 Backend**: FEAT-002

# TASK-006: UI-001 실행 상세 페이지 구현

## 메타데이터
- **작성일**: 2026-01-03
- **예상 크기**: M (2-4시간)
- **상태**: 계획됨
- **관련 스토리**: US (Phase 2 - 실행 상세 조회)
- **관련 인수 테스트**: UI-001 REQ-3

## 작업 목표

이 작업을 완료하면 다음 기능이 동작합니다:
- [ ] 실행 기본 정보 표시 (ID, 상태, 모델, 토큰, 시간)
- [ ] 상태별 UI 분기 (PENDING, RUNNING, COMPLETED, FAILED, CANCELLED)
- [ ] 실행 취소 버튼 (PENDING, RUNNING 상태에서만)
- [ ] 로그 뷰어 탭
- [ ] 아티팩트 목록 탭 (플레이스홀더)
- [ ] 재실행 버튼

## 구현 범위

### 구현할 기능
1. **ExecutionDetail 컴포넌트**
   - `src/components/executions/ExecutionDetail.tsx`
   - 기본 정보 카드
   - 상태별 UI 분기

2. **ExecutionActions 컴포넌트**
   - `src/components/executions/ExecutionActions.tsx`
   - 취소, 재실행 버튼

3. **ExecutionLogs 컴포넌트**
   - `src/components/executions/ExecutionLogs.tsx`
   - 로그 뷰어 (코드 블록 스타일)

4. **페이지 구현**
   - `src/app/executions/[id]/page.tsx` 완성

### 작성할 테스트
1. ExecutionDetail 컴포넌트 테스트
2. ExecutionActions 컴포넌트 테스트
3. E2E 테스트 - 상세 페이지

### 구현 제외 항목
- 아티팩트 상세 기능 (UI-003에서 구현)
- 실시간 로그 스트리밍 (TASK-007에서 구현)

## 기술적 접근 방법

1. **상태별 UI 분기**
   ```typescript
   switch (execution.status) {
     case 'PENDING':
       return <PendingView />;
     case 'RUNNING':
       return <RunningView />;
     case 'COMPLETED':
       return <CompletedView result={execution.result} />;
     case 'FAILED':
       return <FailedView error={execution.error} />;
     case 'CANCELLED':
       return <CancelledView />;
   }
   ```

2. **취소 기능**
   - useCancelExecution 훅 활용
   - 확인 다이얼로그
   - 낙관적 업데이트

3. **탭 구성**
   - 개요 / 로그 / 아티팩트
   - URL 해시로 탭 상태 관리

## 테스트 전략

### 단위 테스트
- `src/components/executions/__tests__/ExecutionDetail.test.tsx`
- `src/components/executions/__tests__/ExecutionActions.test.tsx`

### E2E 테스트
- `e2e/tests/execution-detail.spec.ts`
- 상세 조회, 취소, 재실행

### 인수 테스트 실행 방법
```bash
pnpm --filter frontend test
pnpm --filter e2e test
```

## 완료 조건

이 작업은 다음 조건을 모두 만족할 때 완료됩니다:
1. [ ] 상세 정보가 올바르게 렌더링
2. [ ] 상태별 UI가 올바르게 분기
3. [ ] 취소 버튼이 정상 동작
4. [ ] 재실행 버튼이 정상 동작
5. [ ] 로그가 표시됨
6. [ ] 단위 테스트 작성 및 통과
7. [ ] GitHub Actions CI 통과

## 의존성

### 선행 작업
- TASK-003: UI-001 기본 구조 및 API 클라이언트
- TASK-005: 실행 목록 페이지 (목록에서 상세로 이동)

### 후행 작업
- TASK-007: 실시간 업데이트
- UI-003: 아티팩트 관리 UI

## 추적성
- **명세서**: UI-001 REQ-3
- **관련 API**: API-002 (Get Execution), API-004 (Cancel Execution)
